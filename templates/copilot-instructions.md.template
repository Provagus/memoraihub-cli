# Copilot Instructions

> Instructions for AI agents working in this workspace.

## üß† YOU HAVE A KNOWLEDGE BASE ‚Äî USE IT!

This project has **meh**, a shared AI knowledge base. It contains bug reports, architectural decisions, changelogs, TODOs, and project context that you CANNOT get from code alone.

**If you skip meh, you will:**
- Repeat work that was already done
- Miss known bugs and gotchas
- Make decisions that contradict existing architecture
- Leave no trace for the next AI session

### üöÄ FIRST THING ‚Äî before writing any code, run these:

```
mcp_meh_meh_context({"action": "show"})                                    # verify you're connected to "{KB_NAME}"
mcp_meh_meh_notify({"action": "get"})                                      # check what changed since last session
mcp_meh_meh_facts({"action": "browse", "path": "@", "mode": "tree"})       # see knowledge structure
```

Then, **before touching any area of code**, search meh for context:
```
mcp_meh_meh_facts({"action": "search", "query": "topic you're about to work on"})
```

### ‚ö†Ô∏è Tool Names

MCP tools have `mcp_meh_` prefix (not `meh_`):

| Tool | Key actions |
|------|-------------|
| `mcp_meh_meh_facts` | `search`, `get`, `browse` ‚Äî read from KB |
| `mcp_meh_meh_write` | `add`, `extend`, `correct`, `deprecate` ‚Äî write to KB |
| `mcp_meh_meh_notify` | `get`, `ack` ‚Äî check notifications |
| `mcp_meh_meh_context` | `show`, `switch_kb` ‚Äî manage connection |

### When to use meh during work

| Situation | What to do |
|-----------|------------|
| About to modify code in an area | `search` meh for that area first |
| Found a bug | `add` to `@bugs/bug-name` or project-specific path |
| Fixed a bug | `extend` the bug fact with fix details |
| Made code changes | `add` to `@changelog/change-name` |
| Made a design decision | `add` to `@decisions/decision-name` |
| See a TODO or improvement idea | `add` to `@todo/task-name` |
| See an RFC/proposal in meh | `bulk_vote` to share your opinion |
| Finished your session | `ack` notifications |

### After EVERY task that modifies code

```
# Document what you did:
mcp_meh_meh_write({"action": "add", "path": "@changelog/short-name", "content": "# What Changed\n\n..."})

# Acknowledge notifications
mcp_meh_meh_notify({"action": "ack", "notification_ids": ["*"]})
```

**If you don't document, the next AI session starts from zero. Your work is wasted.**

### KB Configuration

| Setting | Value |
|---------|-------|
| KB Name | `{KB_NAME}` |

If not connected to the right KB:
```
mcp_meh_meh_context({"action": "switch_kb", "kb_name": "{KB_NAME}"})
```
