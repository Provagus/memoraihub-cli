# Copilot Instructions

> Instructions for AI agents working in this workspace.

## üß† Knowledge Base (meh)

This project uses **meh** as a knowledge base for AI. You have access to MCP tools.

### ‚ö†Ô∏è Tool Names

MCP tools have `mcp_meh_` prefix:
- ‚ùå `meh_facts` (conceptual name)
- ‚úÖ `mcp_meh_meh_facts` (actual tool name)

### Session Workflow

#### 1. START - at the beginning of session
```
mcp_meh_meh_notify({"action": "get"})           # check what changed
mcp_meh_meh_facts({"action": "browse", "path": "@", "mode": "tree"})  # see structure
mcp_meh_meh_facts({"action": "get", "id_or_path": "@readme"})  # read onboarding
```

#### 2. WORK - during task
```
mcp_meh_meh_facts({"action": "search", "query": "topic"})  # BEFORE answering
mcp_meh_meh_write({"action": "add", "path": "@path", "content": "..."})  # document discoveries
mcp_meh_meh_write({"action": "bulk_vote", "votes": [{"fact_id":"meh-01XXX","vote":"+1","reason":"Agree"}]})  # vote on proposals
```

#### 3. END - after finishing
```
mcp_meh_meh_notify({"action": "ack", "notification_ids": ["*"]})  # acknowledge notifications
```

### Available Tools (4 merged tools)

| Tool | Actions | When to use |
|------|---------|-------------|
| `mcp_meh_meh_facts` | search, get, browse, federated_search | Read facts from knowledge base |
| `mcp_meh_meh_write` | add, correct, extend, deprecate, bulk_vote | Write/modify facts |
| `mcp_meh_meh_notify` | get, ack, subscribe | Manage notifications |
| `mcp_meh_meh_context` | list_kbs, switch_kb, switch_context, show | Manage KB context and session |

### Path Conventions

```
@docs/           - documentation
@bugs/           - found bugs
@todo/           - tasks to do
@decisions/      - architectural decisions
@board/          - dashboards and status
```

### What to Document?

‚úÖ **YES:**
- Found bugs (even small ones)
- Decisions and why
- Problem solutions
- TODOs for future
- Observations and feedback

‚ùå **NO:**
- Code (it's in repo)
- Obvious things from code
- Temporary notes

### Example Workflow

```
1. User: "How does search work?"
2. AI: mcp_meh_meh_facts({"action": "search", "query": "search implementation"})
3. AI: [reads results, answers with context]
4. AI: mcp_meh_meh_write({"action": "add", "path": "@docs/search-explained", "content": "Explanation for future sessions"})
```

### Context Switching (per AI session)

Each AI session can have its own KB context:

```
mcp_meh_meh_context({"action": "switch_context", "context": "local"})  # Use local SQLite
mcp_meh_meh_context({"action": "switch_context", "context": "http://server:3000/kb-slug"})  # Use remote
mcp_meh_meh_context({"action": "show"})  # Show current session context
```

**Note:** Context switching is PER-SESSION and doesn't affect other AI chats or CLI.

## üìÅ Project Structure

<!-- Fill in for your project -->

- `src/` - source code
- `docs/` - documentation
- `.meh/` - knowledge base (SQLite)
