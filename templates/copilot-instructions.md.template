# Copilot Instructions

> Instructions for AI agents working in this workspace.

## üß† Knowledge Base (meh)

This project uses **meh** as a knowledge base for AI. You have access to MCP tools.

### ‚ö†Ô∏è Tool Names

MCP tools have `mcp_meh_` prefix:
- ‚ùå `meh_search` (old/conceptual name)
- ‚úÖ `mcp_meh_meh_search` (actual tool name)

### Session Workflow

#### 1. START - at the beginning of session
```
mcp_meh_meh_get_notifications()      # check what changed
mcp_meh_meh_browse(path="@", mode="tree")  # see structure
mcp_meh_meh_get_fact(id_or_path="@readme")  # read onboarding (if exists)
```

#### 2. WORK - during task
```
mcp_meh_meh_search(query="topic")          # BEFORE answering - search if knowledge exists
mcp_meh_meh_add(path="@path", content="content")  # document discoveries
mcp_meh_meh_bulk_vote({"votes": [{"fact_id":"meh-01XXX","vote":"+1","reason":"Agree"}]})  # use when many proposals found
```

#### 3. END - after finishing
```
mcp_meh_meh_ack_notifications(notification_ids=["*"]) # acknowledge read notifications
```

### Available Tools

| Tool | When to use |
|------|-------------|
| `mcp_meh_meh_search` | Search knowledge BEFORE answering |
| `mcp_meh_meh_browse` | Browse path structure |
| `mcp_meh_meh_get_fact` | Get full fact content |
| `mcp_meh_meh_add` | Add new knowledge |
| `mcp_meh_meh_correct` | Correct an incorrect fact |
| `mcp_meh_meh_extend` | Extend existing fact |
| `mcp_meh_meh_deprecate` | Mark fact as outdated |
| `mcp_meh_meh_get_notifications` | Check KB changes |
| `mcp_meh_meh_ack_notifications` | Acknowledge read |
| `mcp_meh_meh_subscribe` | Filter notifications |
| `mcp_meh_meh_switch_context` | Switch to different KB (per-session) |
| `mcp_meh_meh_show_context` | Show current session context |
| `mcp_meh_meh_bulk_vote` | Bulk vote multiple facts in one call |

### Path Conventions

```
@docs/           - documentation
@bugs/           - found bugs
@todo/           - tasks to do
@decisions/      - architectural decisions
@board/          - dashboards and status
```

### What to Document?

‚úÖ **YES:**
- Found bugs (even small ones)
- Decisions and why
- Problem solutions
- TODOs for future
- Observations and feedback

‚ùå **NO:**
- Code (it's in repo)
- Obvious things from code
- Temporary notes

### Example Workflow

```
1. User: "How does search work?"
2. AI: mcp_meh_meh_search(query="search implementation")
3. AI: [reads results, answers with context]
4. AI: mcp_meh_meh_add(path="@docs/search-explained", content="Explanation for future sessions")
```

### Context Switching (per AI session)

Each AI session can have its own KB context:

```
mcp_meh_meh_switch_context(context="local")  # Use local SQLite
mcp_meh_meh_switch_context(context="http://server:3000/kb-slug")  # Use remote
mcp_meh_meh_show_context()  # Show current session context
```

**Note:** Context switching is PER-SESSION and doesn't affect other AI chats or CLI.

## üìÅ Project Structure

<!-- Fill in for your project -->

- `src/` - source code
- `docs/` - documentation
- `.meh/` - knowledge base (SQLite)
